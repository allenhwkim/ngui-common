{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","ng://@ngui/common/lib/ngui-inview/src/ngui-inview.component.ts","ng://@ngui/common/lib/ngui-inview/src/ngui-inview.directive.ts","ng://@ngui/common/lib/ngui-inview/ngui-inview.module.ts","ng://@ngui/common/lib/ngui-utils/src/fire-event.ts","ng://@ngui/common/lib/ngui-utils/src/dynamic-component.service.ts","ng://@ngui/common/lib/ngui-list/src/ngui-inview-page.component.ts","ng://@ngui/common/lib/ngui-list/src/ngui-virtual-list.component.ts","ng://@ngui/common/lib/ngui-list/src/no-match-found.ts","ng://@ngui/common/lib/ngui-list/src/none-select.ts","ng://@ngui/common/lib/ngui-list/src/ngui-autocomplete.component.ts","ng://@ngui/common/lib/ngui-list/src/ngui-list.directive.ts","ng://@ngui/common/lib/ngui-list/src/ngui-list-item.directive.ts","ng://@ngui/common/lib/ngui-list/ngui-list.module.ts","ng://@ngui/common/lib/ngui-utils/src/ngui-highlight.pipe.ts","ng://@ngui/common/lib/ngui-utils/src/konsole.ts","ng://@ngui/common/lib/ngui-utils/ngui-utils.module.ts","ng://@ngui/common/lib/ngui-common.module.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","create","NguiInviewComponent","element","platformId","this","observerOptions","threshold","blurEnabled","inview","EventEmitter","notInview","isInview","once80PctVisible","prototype","ngOnInit","options","isPlatformBrowser","observer","IntersectionObserver","handleIntersect","bind","observe","nativeElement","ngOnDestroy","disconnect","entries","_this","forEach","entry","defaultInviewHandler","emit","observers","intersectionRatio","opacity","filter","Math","floor","assign","style","ElementRef","Inject","args","PLATFORM_ID","tslib_1.__decorate","ContentChild","TemplateRef","static","Input","Output","Component","selector","template","tslib_1.__param","NguiInviewDirective","nguiInview","nguiOutview","Directive","NguiInviewModule","NgModule","imports","CommonModule","declarations","exports","fireEvent","el","type","event","match","MouseEvent","KeyboardEvent","TouchEvent","dispatchEvent","DynamicComponentService","factoryResolver","createComponent","component","into","rootViewContainer","resolveComponentFactory","parentInjector","insertComponent","componentRef","compId","random","pow","location","setAttribute","instance","id","insert","hostView","ComponentFactoryResolver","Injectable","NguiInviewPageComponent","renderer","cdRef","outView","itemsBackup","restoreItems","items","from","undefined","setStyle","contentsEl","detectChanges","querySelector","console","log","destroyed","emptyItems","height","getBoundingClientRect","setItems","Renderer2","ChangeDetectorRef","NguiVirtualListComponent","dynamicComponentService","cdr","selected","escaped","bottomInview","_focused","inviewPages","ngAfterViewInit","error","addAnInviewPageToPages","isListLoading","inviewPage","pagesRef","push","addList","ViewChild","read","ViewContainerRef","NoMatchFound","html","NoneSelect","NguiAutocompleteComponent","_super","apply","minInputChars","blankOption","noMatchItem","input","listItem","__","constructor","tslib_1.__extends","selectedOrEscaped","_selectedFromList","_escapedFromList","focused","minChars","inputEl","value","document","for","positionThisUnderInputEl","fromEvent","subscribe","onInputElKeyup","addEventListener","onInputElFocused","onInputElBlurred","onSelected","onEscaped","focus","_lastSelected","_orgInputValue","_prevInputValue","setFocused","clearList","compRef","destroy","firstList","addAutocompleteList","isReady","clearTimeout","_acTimer","setTimeout","addMorePages","elType","val","_focusTimer","thisEl","thisInputElBCR","top","window","scrollY","left","width","blankItem","allItems","concat","x","NguiListDirective","NguiListItemDirective","viewContainer","listDirective","virtualListComponent","autocompleteComponent","parentListComp","Error","object","clear","innerHTML","keydown","thisListItem","keyCode","which","parentListEl","listItems","querySelectorAll","listItemNdx","indexOf","nextListItem","prevListItem","keyup","mousedown","blurred","Optional","Host","HostListener","NguiListModule","entryComponents","NguiHighlightPipe","transform","text","search","ret","re","RegExp","replace","Pipe","name","konsole","toLog","param","restrictionNum","LOG_LEVELS","logLevel","setLogLevel","toUpperCase","logLevels","keys","sessionStorage","setItem","debug","_i","info","warn","ALL","parseInt","DEBUG","LOG","INFO","WARN","ERROR","NONE","NguiUtilsModule","providers","NguiCommonModule"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import {\r\n    Component,\r\n    ContentChild,\r\n    ElementRef,\r\n    EventEmitter,\r\n    Inject,\r\n    Input,\r\n    OnDestroy,\r\n    OnInit,\r\n    Output,\r\n    PLATFORM_ID,\r\n    TemplateRef\r\n} from '@angular/core';\r\n\r\nimport {isPlatformBrowser} from '@angular/common';\r\n\r\n/**\r\n * An element that listens to viewport positioning and fires inView and notInview events\r\n * ### example\r\n * ```ts\r\n * <ngui-inview [observerOptions]=\"myObserverOptions\" (inview)=\"doA()\" (notInview)=\"doB()\">\r\n *   <img *ngIf src=\"https://picsum.photos/800/300?image=1>\r\n * </ngui-inview>\r\n * ```\r\n */\r\n@Component({\r\n  selector: 'ngui-inview',\r\n  template: `\r\n        <ng-container *ngIf=\"isInview\" [ngTemplateOutlet]=\"template\">\r\n        </ng-container>\r\n    `,\r\n  styles: [':host {display: block;}']\r\n})\r\nexport class NguiInviewComponent implements OnInit, OnDestroy {\r\n    /** <ng-template> reference */\r\n  @ContentChild(TemplateRef, {static: true}) template: TemplateRef<any>;\r\n\r\n    /** IntersectionObserver options */\r\n  @Input() observerOptions: IntersectionObserverInit = {threshold: [.1, .2, .3, .4, .5, .6, .7, .8]};\r\n    /** Deprecated config. Use `observerOptions` instead.\r\n     * @deprecated Use `observerOptions` instead. */\r\n  @Input() options: any;\r\n  /** Controls whether blur effect is applied to a component with less than 80% intersection ratio.\r\n   * Only applies when there are no \"inview\" event handlers defined.\r\n   **/\r\n  @Input() blurEnabled = true;\r\n\r\n  @Output() inview: EventEmitter<IntersectionObserverEntry> = new EventEmitter();\r\n  @Output() notInview: EventEmitter<IntersectionObserverEntry> = new EventEmitter();\r\n\r\n  observer: IntersectionObserver;\r\n    /** indicates that this element is in viewport */\r\n  isInview = false;\r\n    /** indicates that this element is 80% in viewport. Used by the default callback */\r\n  once80PctVisible = false;\r\n\r\n  constructor(\r\n        private element: ElementRef,\r\n        @Inject(PLATFORM_ID) private platformId: any) {\r\n  }\r\n\r\n    /** Starts IntersectionObserver */\r\n  ngOnInit(): void {\r\n    if (this.options) {\r\n      this.observerOptions = this.options;\r\n    }\r\n\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      this.observer = new IntersectionObserver(this.handleIntersect.bind(this), this.observerOptions);\r\n      this.observer.observe(this.element.nativeElement);\r\n    }\r\n  }\r\n\r\n    /** stop IntersectionObserver */\r\n  ngOnDestroy(): void {\r\n    this.observer.disconnect();\r\n  }\r\n\r\n    /** fires (inview) and (notInview) events when this component is visible or not visible  */\r\n  handleIntersect(entries): void {\r\n    entries.forEach((entry: IntersectionObserverEntry) => {\r\n      if (entry['isIntersecting']) {\r\n        this.isInview = true;\r\n        this.defaultInviewHandler(entry);\r\n        this.inview.emit(entry);\r\n      } else {\r\n        this.notInview.emit(entry);\r\n      }\r\n    });\r\n  }\r\n\r\n    /**\r\n     * default intersection handler, which sets blur dependes on intersection ratio\r\n     * this won't be invoked if user provides any (inview) event. e.g. (inview)=\"something()\"\r\n     */\r\n  defaultInviewHandler(entry): any {\r\n    if (!this.blurEnabled || this.once80PctVisible || this.inview.observers.length) {\r\n      return;\r\n    }\r\n\r\n    if (entry.intersectionRatio < 0.8) {\r\n      const opacity = entry.intersectionRatio * (1 / 0.8);\r\n      const blur = 20 - Math.floor(entry.intersectionRatio * 10) * 4;\r\n      const filter = `blur(${blur}px)`;\r\n      Object.assign(entry.target.style, {opacity, filter});\r\n    } else {\r\n      entry.target.style.opacity = 1;\r\n      entry.target.style.filter = 'unset';\r\n\r\n      this.once80PctVisible = true;\r\n    }\r\n  }\r\n}\r\n","import {\r\n    Directive,\r\n    ElementRef,\r\n    EventEmitter,\r\n    Inject,\r\n    Input,\r\n    OnDestroy,\r\n    OnInit,\r\n    Output,\r\n    PLATFORM_ID\r\n} from '@angular/core';\r\nimport {isPlatformBrowser} from '@angular/common';\r\n\r\n/**\r\n * Fires (nguiInview) or (nguiOutview) events dependents on the element is in viewport or not\r\n */\r\n@Directive({\r\n    selector: '[nguiInview], [nguiOutview]' // tslint:disable-line\r\n})\r\nexport class NguiInviewDirective implements OnInit, OnDestroy {\r\n  observer: IntersectionObserver;\r\n\r\n    /** IntersectionObserver options */\r\n  @Input() observerOptions: IntersectionObserverInit = {threshold: [.1, .2, .3, .4, .5, .6, .7, .8]};\r\n    /** Deprecated config. Use `observerOptions` instead.\r\n     * @deprecated Use `observerOptions` instead. */\r\n  @Input() options: any;\r\n\r\n    /** Event that will be fired when in viewport */\r\n  @Output() nguiInview: EventEmitter<IntersectionObserverEntry> = new EventEmitter();\r\n    /** Event that will be fired when out of  viewport */\r\n  @Output() nguiOutview: EventEmitter<IntersectionObserverEntry> = new EventEmitter();\r\n\r\n  constructor(\r\n        public element: ElementRef,\r\n        @Inject(PLATFORM_ID) private platformId: any) {\r\n  }\r\n\r\n    /** Starts IntersectionObserver */\r\n  ngOnInit(): void {\r\n    if (this.options) {\r\n      this.observerOptions = this.options;\r\n    }\r\n\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      this.observer = new IntersectionObserver(this.handleIntersect.bind(this), this.observerOptions);\r\n      this.observer.observe(this.element.nativeElement);\r\n    }\r\n  }\r\n\r\n    /** Stops IntersectionObserver */\r\n  ngOnDestroy(): void {\r\n    if (isPlatformBrowser(this.platformId) && this.observer) {\r\n      this.observer.disconnect();\r\n    }\r\n  }\r\n\r\n    /**\r\n     * Fires (nguiInview) event when this element is in viewport\r\n     *  and fires (nguiOutview) event when this element is not in viewport\r\n     */\r\n  handleIntersect(entries): void {\r\n    entries.forEach((entry: IntersectionObserverEntry) => {\r\n      if (entry['isIntersecting']) {\r\n        this.nguiInview.emit(entry);\r\n      } else {\r\n        this.nguiOutview.emit(entry);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {NguiInviewComponent} from './src/ngui-inview.component';\r\nimport {NguiInviewDirective} from './src/ngui-inview.directive';\r\n\r\nexport {NguiInviewComponent, NguiInviewDirective};\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    NguiInviewComponent,\r\n    NguiInviewDirective\r\n  ],\r\n  exports: [\r\n    NguiInviewComponent,\r\n    NguiInviewDirective\r\n  ]\r\n})\r\nexport class NguiInviewModule {\r\n}\r\n","/**\r\n * fire the given event with options on the element\r\n * @example\r\n * fireEvent(el, 'click');\r\n * fireEvent(el, 'keypress', {key: 'Enter'});\r\n */\r\nexport function fireEvent(el: HTMLElement, type: string, options: any = {}): boolean {\r\n  let event;\r\n  if (type === 'click' || type.match(/^mouse/)) {\r\n    event = new MouseEvent(type, options);\r\n  } else if (type.match(/^key/)) {\r\n    event = new KeyboardEvent(type, options);\r\n  } else if (type.match(/^touch/)) {\r\n    event = new TouchEvent(type, options);\r\n  }\r\n\r\n  return el.dispatchEvent(event);\r\n}\r\n","/**\r\n * Insert a component dynamically using a service\r\n *\r\n * ### Example\r\n * ```ts\r\n * import { DynamicComponentService } from './dynamic.component.service';\r\n * import { MyDynamicComponent } from './my-1.component';\r\n *\r\n * @Component({\r\n *   template: ` ... <div #dymamic></div>`\r\n * })\r\n * export class MyComponent {\r\n *   @ViewChild('dynamic', {read:ViewContainerRef}) vcr: ViewContainerRef;\r\n *\r\n *   constructor(public dcs: DynamicComponentService) {}\r\n *\r\n *   insertComp() {\r\n *     let compRef = this.dcs.createComponent(MyDynamicComponent, this.vcr);\r\n *     ths.dcs.insertComonent(cmpRef);\r\n *     compRef.instance.items = [1,2,3];              // dealing with @input\r\n *     compRef.instance.output$.subscribe(val => {}); // dealing with @output\r\n *   }\r\n * }\r\n * ```\r\n */\r\nimport {\r\n  Component,\r\n  ComponentFactoryResolver,\r\n  ComponentRef,\r\n  Inject,\r\n  Injectable,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\n/**\r\n * Provide service to add or remove component dynamically\r\n */\r\n@Injectable()\r\nexport class DynamicComponentService {\r\n  /** used to create a factory from a component class */\r\n  factoryResolver: ComponentFactoryResolver;\r\n  /** defines where a dynamic components insert into */\r\n  rootViewContainer: ViewContainerRef;\r\n\r\n  constructor(@Inject(ComponentFactoryResolver) factoryResolver) {\r\n    this.factoryResolver = factoryResolver;\r\n  }\r\n\r\n  /**\r\n   * returns component reference\r\n   * The reason to seperate `createCompnent` and `insertComponent` is\r\n   * to allow some actions before we insert into a hostView.\r\n   * e.g styling, setting attributes, etc\r\n   */\r\n  createComponent(component: any, into?: ViewContainerRef): ComponentRef<any> {\r\n    this.rootViewContainer = into || this.rootViewContainer;\r\n    const factory = this.factoryResolver.resolveComponentFactory(component);\r\n\r\n    return factory.create(this.rootViewContainer.parentInjector);\r\n  }\r\n\r\n  /**\r\n   * insert component\r\n   */\r\n  insertComponent(componentRef: ComponentRef<any>): Component {\r\n    const compId = `ngui-dyn-${Math.floor(Math.random() * 10 ** 7) + 10 ** 6}`;\r\n    componentRef.location.nativeElement.setAttribute('id', compId);\r\n    componentRef.instance.id = compId;\r\n\r\n    this.rootViewContainer.insert(componentRef.hostView);\r\n\r\n    return componentRef.instance;\r\n  }\r\n\r\n}\r\n","import {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ElementRef,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Renderer2,\r\n  TemplateRef\r\n} from '@angular/core';\r\n\r\n/**\r\n * A block of component that listens to inView and outView events,\r\n * so that it empties contents when out of view after backup items\r\n * and restores the contents when in view\r\n *\r\n * ### example\r\n * ```ts\r\n * <ngui-inview-page [items]=\"items\">\r\n *   <ng-template let-items=\"items\">\r\n *     <div *ngIf=\"items else noItems\">\r\n *       <li *ngFor=\"let num of items; trackBy: num\">row number: {{ num }}</li>\r\n *     </div>\r\n *   </ng-template>\r\n * </ngui-inview-page>\r\n * ```\r\n */\r\n@Component({\r\n  selector: 'ngui-inview-page',\r\n  template: `\r\n    <div class=\"inview-page contents\"\r\n      (nguiInview)=\"restoreItems()\"\r\n      (nguiOutview)=\"emptyItems()\">\r\n      <!-- add blank ngui-list-item by condition  -->\r\n      <!-- no match found ngui-list-item by condition -->\r\n      <ng-container\r\n        [ngTemplateOutlet]=\"template||defaultTemplate\"\r\n        [ngTemplateOutletContext]=\"{items: items, outView: outView}\">\r\n      </ng-container>\r\n      <div *ngIf=\"outView\">{{ itemsBackup.length }} items hidden</div>\r\n    </div>\r\n\r\n    <ng-template #defaultTemplate>\r\n      <div *ngIf=\"!items\"> Error: requires [items] </div>\r\n      <div *ngIf=\"!template\"> Error: requires &lt;ng-template></div>\r\n    </ng-template>\r\n  `,\r\n  styles: [`\r\n    :host {display: block}\r\n  `]\r\n})\r\nexport class NguiInviewPageComponent implements OnInit, OnDestroy {\r\n\r\n  /** Allow users to change the contents */\r\n  @ContentChild(TemplateRef, {static: true}) template: TemplateRef<any>;\r\n  // @Input('template') template: TemplateRef<any>;\r\n\r\n  /** List of elements that are used to render this element */\r\n  @Input() items: Array<any>;\r\n\r\n  /** IntersectionObserver options */\r\n  options: any;\r\n  /** Indicates that the page of out of viewport */\r\n  outView = false;\r\n  /** The copy of items. This is set when this element is out of viewport */\r\n  itemsBackup: Array<any> = [];\r\n  /**\r\n   * The first element of this component.\r\n   * The height of it remains the same even when items get empty out.\r\n   */\r\n  contentsEl: HTMLElement;\r\n  destroyed: boolean;\r\n\r\n  constructor(\r\n    private element: ElementRef,\r\n    private renderer: Renderer2,\r\n    private cdRef: ChangeDetectorRef\r\n  ) { }\r\n\r\n  /**\r\n   * Restore items when in viewport, so that elements are rendered\r\n   */\r\n  restoreItems(): void {\r\n    if (this.outView) {\r\n      this.outView = false;\r\n      this.items = Array.from(this.itemsBackup || []);\r\n      this.itemsBackup = undefined;\r\n      this.renderer.setStyle(this.contentsEl, 'height', undefined);\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.contentsEl =\r\n      this.element.nativeElement.querySelector('.inview-page.contents');\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    console.log('NguiInviewPageComponent.ngOnDestroy() is called');\r\n    this.destroyed = true;\r\n  }\r\n\r\n  /**\r\n   * Empty items when not in viewport, so that elements are not rendered\r\n   */\r\n  emptyItems(): void {\r\n    if (this.items && this.contentsEl && !this.outView) {\r\n      // set height before emptying contents\r\n      const height = this.element.nativeElement.getBoundingClientRect().height;\r\n      this.renderer.setStyle(this.contentsEl, 'height', `${height}px`);\r\n\r\n      this.outView = true;\r\n      this.itemsBackup = Array.from(this.items || []);\r\n      this.items = undefined;\r\n      if (!this.destroyed) {\r\n        this.cdRef.detectChanges();\r\n      }\r\n    }\r\n  }\r\n\r\n  setItems(items: Array<any>): void {\r\n    if (!this.destroyed) {\r\n      console.log('NguiInviewPageComponent.setItems() is called with', items);\r\n      this.items = items;\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }\r\n\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ComponentRef,\r\n  ContentChild,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Output,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { DynamicComponentService } from '../../ngui-utils/src/dynamic-component.service';\r\nimport { NguiInviewPageComponent } from './ngui-inview-page.component';\r\n\r\n/**\r\n * Virtual List\r\n *\r\n * The `<ngui-inview ..>` inserts <ngui-inview-page> into\r\n * `<div #pages>` when it is in viewport\r\n * When it's inserted, it will be pushed down, which makes it out of viewport.\r\n * User scrolls down to see the bottom of the list,\r\n * then it will insert another `<ngui-inview-page>` again.\r\n *\r\n * <ngui-inview-page> listens to (nguiInview) and (nguiOutview) events,\r\n * when <ngui-inview-page> is out of view port, it empties out the contents.\r\n * and it restores back the contents when it is in viewport again.\r\n *\r\n * ### example\r\n * ```ts\r\n * <ngui-virtual-list (bottomInview)=\"loadItems($event)\">\r\n *   <ng-template let-items=\"items\">\r\n *     <div *ngIf=\"!items\">Loading</div>\r\n *     <li *ngFor=\"let num of items; trackBy: num\">row number: {{ num }}</li>\r\n *   </ng-template>\r\n * </ngui-virtual-list>\r\n * ```\r\n */\r\n@Component({\r\n  selector: 'ngui-virtual-list',\r\n  template: `\r\n    <div class=\"ngui-virtual-list\"\r\n      (focus)=\"_focused = true\"\r\n      (click)=\"_focused = true\">\r\n      <!-- hold multiple <ngui-inview-page> -->\r\n      <div #pages></div>\r\n      <!-- insert <ngui-inview-page> into #pages -->\r\n      <ngui-inview (inview)=\"addAnInviewPageToPages()\"></ngui-inview>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    :host {display: block}\r\n  `]\r\n})\r\nexport class NguiVirtualListComponent implements AfterViewInit {\r\n\r\n  /** the container NguiInviewPage will be inserted */\r\n  @ViewChild('pages', { read: ViewContainerRef, static: false }) pagesRef: ViewContainerRef;\r\n  /** Template of NguiInviewPage. Allow users to define their own template  */\r\n  @ContentChild(TemplateRef, {static: false}) template: TemplateRef<any>;\r\n  /** Fired when child `<ngui-list-item>` is selected */\r\n  @Output() selected: EventEmitter<any> = new EventEmitter();\r\n  /** Fired when `ESC` key is pressed from `<ngui-list-item>` */\r\n  @Output() escaped: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Event fired when bottom of the virtual list is in view\r\n   * The handler of this event must call `$event.addItems(items: Array<any>)` to fill contents\r\n   * If not, only the first page is loaded, and rest of the pages won't be loaded;\r\n   *\r\n   * ### example\r\n   * ```ts\r\n   * <ngui-virtual-list (bottomInview)=\"loadItems($event)\">\r\n   *   <ng-template let-items=\"items\">\r\n   *     <div *ngIf=\"items else noItems\">\r\n   *        <li *ngFor=\"let num of items; trackBy: num\">row number: {{ num }}</li>\r\n   *     </div>\r\n   *     <ng-template #noItems>Loading</ng-template>\r\n   *   </ng-template>\r\n   * </ngui-virtual-list>\r\n   * ```\r\n   */\r\n  @Output() bottomInview: EventEmitter<any> = new EventEmitter();\r\n\r\n  /** The last NguiInviewPageComponent being inserted */\r\n  inviewPage: ComponentRef<NguiInviewPageComponent>;\r\n  _focused = false;\r\n  /** Indicates if a page is still loading */\r\n  isListLoading: boolean;\r\n  inviewPages: Array<ComponentRef<NguiInviewPageComponent>> = [];\r\n\r\n  constructor(\r\n    public renderer: Renderer2,\r\n    public element: ElementRef,\r\n    public dynamicComponentService: DynamicComponentService,\r\n    public cdr: ChangeDetectorRef\r\n  ) {}\r\n\r\n  /** Check if necessary input and output is provided */\r\n  ngAfterViewInit(): void {\r\n    if (!this.template || !this.bottomInview.observers.length) {\r\n      console.error('<ngui-virtual-list> requires [template] and {bottomInview)');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * When the bottom is inview port, this function is called\r\n   * It will insert a dynamicall created NguiInviewPageComponent with the given template.\r\n   * It will also fires (bottomInview) event, so that user can fill up items for the page.\r\n   */\r\n  addAnInviewPageToPages(): void {\r\n    if (!this.isListLoading) {\r\n      this.isListLoading = true;\r\n\r\n      this.inviewPage =\r\n        this.dynamicComponentService.createComponent(NguiInviewPageComponent, this.pagesRef);\r\n      this.dynamicComponentService.insertComponent(this.inviewPage);\r\n\r\n      this.inviewPage.instance.template = this.template;\r\n      this.inviewPages.push(this.inviewPage);\r\n\r\n      this.bottomInview.emit(this); // fire event, so that user can load items\r\n    } else {\r\n      console.log('Already a page being inserted, skipping adding a page');\r\n    }\r\n  }\r\n\r\n  // set items of NguiInviewPageComponent\r\n  addList(items: Array<any>): void {\r\n    this.isListLoading = false;\r\n    console.log('>>>>>> NguiVirtualListComponent.addList() is called()');\r\n    this.inviewPage.instance.setItems(items);\r\n  }\r\n\r\n}\r\n","export class NoMatchFound {\r\n  html = 'No Match Found';\r\n}\r\n","export class NoneSelect {\r\n  html = 'Select';\r\n}\r\n","import {\r\n  Component,\r\n  ContentChild,\r\n  Input,\r\n  OnInit,\r\n  TemplateRef\r\n} from '@angular/core';\r\n\r\nimport { fireEvent } from '../../ngui-utils/src/fire-event';\r\nimport { NguiVirtualListComponent } from './ngui-virtual-list.component';\r\nimport { NoMatchFound } from './no-match-found';\r\nimport { NoneSelect } from './none-select';\r\nimport {fromEvent} from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'ngui-autocomplete',\r\n  template: `\r\n    <div *ngIf=\"isReady\" class=\"ngui-autocomplete\">\r\n      <div #pages></div>\r\n      <ngui-inview (inview)=\"addMorePages()\"></ngui-inview>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    :host {position: absolute; background-color: #fff; max-height: 300px; overflow: auto}\r\n    .ngui-autocomplete { border: 1px solid #ccc; padding: 4px }\r\n  `]\r\n})\r\nexport class NguiAutocompleteComponent extends NguiVirtualListComponent implements OnInit {\r\n  @Input() for: string; // input tag id\r\n  @Input() minInputChars = 1;\r\n  @Input() blankOption = 'Select One';\r\n  @Input() noMatchItem = 'No Match Found';\r\n\r\n  /** Template of NguiInviewPage. Allow users to define their own template  */\r\n  @ContentChild(TemplateRef, {static: false}) template: TemplateRef<any>;\r\n\r\n  inputEl: HTMLInputElement;\r\n  _focused: any = {input: false, listItem: false};\r\n  _focusTimer;\r\n  _acTimer;\r\n  _selectedFromList: boolean;\r\n  _escapedFromList: boolean;\r\n  _orgInputValue: string;\r\n  _prevInputValue: string;\r\n  _lastSelected: any;\r\n\r\n  /**\r\n   * returns autocomplete display condition\r\n   * autocompolete list is only visible\r\n   *   - when input element is focused or list element is focused\r\n   *   - when input value has enought characters\r\n   *   - and user just did not selected or escaped\r\n   */\r\n  get isReady(): boolean {\r\n    const selectedOrEscaped = this._selectedFromList || this._escapedFromList;\r\n    const focused = this._focused.input || this._focused.listItem;\r\n    const minChars = this.inputEl.value.length >= this.minInputChars;\r\n\r\n    return (!selectedOrEscaped && focused && minChars);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.inputEl = <HTMLInputElement> document.querySelector('#' + this.for); // tslint:disable-line\r\n    this.positionThisUnderInputEl();\r\n\r\n    fromEvent(this.inputEl, 'keyup').subscribe(this.onInputElKeyup.bind(this));\r\n    this.inputEl.addEventListener('focus', this.onInputElFocused.bind(this));\r\n    this.inputEl.addEventListener('blur', this.onInputElBlurred.bind(this));\r\n    this.selected.subscribe(this.onSelected.bind(this));\r\n    this.escaped.subscribe(this.onEscaped.bind(this));\r\n  }\r\n\r\n  onSelected(value): void {\r\n    this._selectedFromList = true;\r\n    this.inputEl.focus();\r\n    this._lastSelected = value;\r\n    this.cdr.detectChanges();    // for ChangeDetectionStrategy.OnPush\r\n    console.log('NguiAutoCompleteComponent.onSelected() is called', value);\r\n  }\r\n\r\n  onEscaped(): void {\r\n    this._escapedFromList = true;\r\n    this.inputEl.focus();\r\n    if (!this._lastSelected) {\r\n      this.inputEl.value = this._orgInputValue;\r\n    }\r\n    this.cdr.detectChanges(); // for ChangeDetectionStrategy.OnPush\r\n    console.log('NguiAutoCompleteComponent.onEscaped() is called');\r\n  }\r\n\r\n  onInputElFocused(event): void {\r\n    console.log('NguiAutoCompleteComponent.onInputElFocused() is called', event);\r\n    this.isListLoading = false;\r\n    if (typeof this._orgInputValue === 'undefined') {\r\n      this._orgInputValue = this.inputEl.value;\r\n    }\r\n    this._prevInputValue = this.inputEl.value;\r\n    this.setFocused('input', true);\r\n  }\r\n\r\n  onInputElBlurred(): void {\r\n    this.setFocused('input', false);\r\n  }\r\n\r\n  clearList(): void {\r\n    this.inviewPages.forEach(compRef => {\r\n      compRef.destroy();\r\n    });\r\n    this.inviewPages = [];\r\n  }\r\n\r\n  onInputElKeyup(event: KeyboardEvent): void {\r\n    console.log('NguiAutoCompleteComponent.onInputKeyup() is called', event.key);\r\n    const firstList = this.element.nativeElement.querySelector('ngui-list-item');\r\n    if (event.key === 'Enter' || event.key === 'Escape') {\r\n      if (firstList) {\r\n        fireEvent(firstList, 'keyup', {key: event.key});\r\n      } else {\r\n        this.onEscaped();\r\n      }\r\n    } else if ((event.key === 'ArrowDown' || event.key === 'ArrowRight') && firstList) {\r\n      firstList.focus();\r\n    } else if (event.key === 'ArrowUp' || event.key === 'ArrowLeft') {\r\n      //\r\n    } else if (this.inputEl.value.length >= this.minInputChars) {\r\n      this._selectedFromList = false;\r\n      this._escapedFromList = false;\r\n      this.addAutocompleteList();\r\n    }\r\n  }\r\n\r\n  /** Complete the first page of autocomplete */\r\n  addAutocompleteList(): void {\r\n    if (this.isReady) {\r\n      clearTimeout(this._acTimer);\r\n      this._acTimer = setTimeout(() => {\r\n        this.isListLoading = false; // ???????/\r\n        this._prevInputValue = this.inputEl.value;\r\n        this._escapedFromList = false;\r\n        this._selectedFromList = false;\r\n        this.clearList();\r\n        this.addAnInviewPageToPages();\r\n      }, 200);\r\n    }\r\n  }\r\n\r\n  /** Complete after the first page of autocomplete when it scrolls to the bottom */\r\n  addMorePages(): void {\r\n    if (this.inviewPages.length) {\r\n      this.addAnInviewPageToPages();\r\n    }\r\n  }\r\n\r\n  setFocused(elType: 'input' | 'listItem', val: boolean): void {\r\n    if (val) {\r\n      clearTimeout(this._focusTimer);\r\n      this._focused = {input: false, listItem: false};\r\n      this._focused[elType] = true;\r\n    } else {\r\n      this._focusTimer = setTimeout(() => {\r\n        this._focused[elType] = false;\r\n        this.cdr.detectChanges(); // for ChangeDetectionStrategy.OnPush\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  positionThisUnderInputEl(): void {\r\n    const thisEl = this.element.nativeElement;\r\n    const thisInputElBCR = this.inputEl.getBoundingClientRect();\r\n    const top = thisInputElBCR.top + thisInputElBCR.height + window.scrollY;\r\n\r\n    this.renderer.setStyle(thisEl, 'left', `${thisInputElBCR.left}px`);\r\n    this.renderer.setStyle(thisEl, 'top', `${top}px`);\r\n    this.renderer.setStyle(thisEl, 'minWidth', `${thisInputElBCR.width}px`);\r\n  }\r\n\r\n  // set items of NguiInviewPageComponent\r\n  addList(items: Array<any>): void {\r\n    console.log('>>>>>> NguiAutocompleteComponent.addList() is called()');\r\n    this.isListLoading = false;\r\n\r\n    // TODO: ........ for 1st page only, show no match found or blank option\r\n    let noMatchItem: any;\r\n    let blankItem: any = {};\r\n    if (this.inviewPages.length === 1) {\r\n      if (this.noMatchItem && (!items || items.length === 0)) { // add no match item\r\n        noMatchItem = new NoMatchFound();\r\n        blankItem.html = this.noMatchItem;\r\n      } else if (this.blankOption) {\r\n        blankItem = new NoneSelect();\r\n        blankItem.html = this.blankOption;\r\n      }\r\n    }\r\n\r\n    const allItems = [].concat(noMatchItem, blankItem, items).filter(x => x);\r\n    this.inviewPage.instance.setItems(allItems);\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n}\r\n","import {\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Output\r\n} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: 'ngui-list' // tslint:disable-line\r\n})\r\nexport class NguiListDirective {\r\n  /** Fired when child `<ngui-list-item>` is selected */\r\n  @Output() selected: EventEmitter<any> = new EventEmitter();\r\n  /** Fired when `ESC` key is pressed from `<ngui-list-item>` */\r\n  @Output() escaped: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor(public element: ElementRef) { }\r\n}\r\n","import {\r\n  Directive,\r\n  ElementRef,\r\n  Host,\r\n  HostListener,\r\n  Input,\r\n  OnInit,\r\n  Optional,\r\n  Renderer2,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { NguiListDirective } from './ngui-list.directive';\r\nimport { NguiVirtualListComponent } from './ngui-virtual-list.component';\r\nimport { NguiAutocompleteComponent } from './ngui-autocomplete.component';\r\nimport { NoneSelect } from './none-select';\r\nimport { NoMatchFound } from './no-match-found';\r\n\r\n// tabindex, keydown, keyup(ENTER, ESC), click\r\n@Directive({\r\n  selector: 'ngui-list-item' // tslint:disable-line\r\n})\r\nexport class NguiListItemDirective implements OnInit {\r\n  @Input('item') object: any; // tslint:disable-line\r\n\r\n  nextSibling: HTMLElement;\r\n  prevSibling: HTMLElement;\r\n  parentListComp: NguiListDirective | NguiVirtualListComponent | NguiAutocompleteComponent;\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private renderer: Renderer2,\r\n    private viewContainer: ViewContainerRef,\r\n    @Optional() @Host() private listDirective: NguiListDirective,\r\n    @Optional() @Host() private virtualListComponent: NguiVirtualListComponent,\r\n    @Optional() @Host() private autocompleteComponent: NguiAutocompleteComponent\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.setAttribute(this.el.nativeElement, 'tabindex', '0');\r\n    this.parentListComp = this.listDirective || this.virtualListComponent || this.autocompleteComponent;\r\n    if (!this.parentListComp) {\r\n      throw Error('ngui-list-item requires parent of ngui-list, ngui-virtual-list, or ngui-autocomplete.');\r\n    }\r\n    if ((this.object instanceof NoneSelect) || (this.object instanceof NoMatchFound)) {\r\n      this.viewContainer.clear();\r\n      this.el.nativeElement.innerHTML = this.object.html;\r\n    }\r\n  }\r\n\r\n  // handles keyboard up, down, left, right\r\n  @HostListener('keydown', ['$event']) keydown(event): void {\r\n    const thisListItem = this.el.nativeElement;\r\n    const keyCode = event.which || event.keyCode;\r\n    const parentListEl = this.parentListComp.element.nativeElement;\r\n    const listItems: Array<HTMLElement>\r\n      = Array.from(parentListEl.querySelectorAll('ngui-list-item'));\r\n    const listItemNdx = listItems.indexOf(thisListItem);\r\n    const nextListItem = listItems[listItemNdx + 1] || listItems[0];\r\n    const prevListItem = listItems[listItemNdx - 1] || listItems[listItems.length - 1];\r\n\r\n    switch (keyCode) {\r\n    case 37: case 38: // up arrow, left arrow\r\n      prevListItem.focus();\r\n      break;\r\n    case 39: case 40: // down arrow, right arrow\r\n      nextListItem.focus();\r\n      break;\r\n    default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  // handles keyboard enter(13), esc(27)\r\n  @HostListener('keyup', ['$event']) keyup(event): void {\r\n    switch (event.key) {\r\n    case 'Enter':\r\n      this.parentListComp.selected.emit(this.object);\r\n      break;\r\n    case 'Escape':\r\n      this.parentListComp.escaped.emit();\r\n      break;\r\n    default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  @HostListener('click', ['$event']) mousedown(): void {\r\n    this.parentListComp.selected.emit(this.object);\r\n  }\r\n\r\n  @HostListener('focus', ['$event']) focused(): void {\r\n    if (this.parentListComp['setFocused']) {\r\n      this.parentListComp['setFocused']('listItem', true);\r\n    }\r\n  }\r\n\r\n  @HostListener('blur', ['$event']) blurred(): void {\r\n    if (this.parentListComp['setFocused']) {\r\n      this.parentListComp['setFocused']('listItem', false);\r\n    }\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {NguiAutocompleteComponent} from './src/ngui-autocomplete.component';\r\nimport {NguiListItemDirective} from './src/ngui-list-item.directive';\r\nimport {NguiListDirective} from './src/ngui-list.directive';\r\nimport {NguiInviewPageComponent} from './src/ngui-inview-page.component';\r\nimport {NguiVirtualListComponent} from './src/ngui-virtual-list.component';\r\nimport {NguiInviewModule} from '../ngui-inview/ngui-inview.module';\r\n\r\nexport {NguiAutocompleteComponent, NguiListItemDirective, NguiListDirective, NguiInviewPageComponent, NguiVirtualListComponent};\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    NguiInviewModule\r\n  ],\r\n  declarations: [\r\n    NguiAutocompleteComponent,\r\n    NguiInviewPageComponent,\r\n    NguiListDirective,\r\n    NguiListItemDirective,\r\n    NguiVirtualListComponent\r\n  ],\r\n  exports: [\r\n    NguiAutocompleteComponent,\r\n    NguiInviewPageComponent,\r\n    NguiListDirective,\r\n    NguiListItemDirective,\r\n    NguiVirtualListComponent\r\n  ],\r\n  entryComponents: [NguiInviewPageComponent]\r\n})\r\nexport class NguiListModule {\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'nguiHighlight' })\r\nexport class NguiHighlightPipe implements PipeTransform {\r\n  transform(text: string, search: string): string {\r\n    let ret = text;\r\n    if (search) {\r\n      const re  = new RegExp(search, 'ig');\r\n      ret = text.replace(re, match => `<span class=\"ngui-highlight\">${match}</span>`);\r\n    }\r\n\r\n    return ret;\r\n  }\r\n}\r\n","/**\r\n * window.konsole alternative\r\n * ### example\r\n * ```\r\n * konsole.setLogLevel('error');\r\n * konwole.log(1,2,3,4,5);\r\n * ```\r\n */\r\nexport abstract class konsole { // tslint:disable-line\r\n  /** all log levels */\r\n  static LOG_LEVELS = {\r\n    ALL:   parseInt('00000', 2),\r\n    DEBUG: parseInt('00001', 2),\r\n    LOG:   parseInt('00010', 2),\r\n    INFO:  parseInt('00100', 2),\r\n    WARN:  parseInt('01000', 2),\r\n    ERROR: parseInt('10000', 2),\r\n    NONE:  parseInt('11111', 2)\r\n  };\r\n\r\n  /** current log level set by setLogLevel, default 'INFO' */\r\n  static logLevel = 'INFO';\r\n\r\n  /** returns if it should call `window.console` or not */\r\n  static toLog(param): boolean { // returns to log or not\r\n    const restrictionNum = this.LOG_LEVELS[this.logLevel];\r\n    const requiredNum = this.LOG_LEVELS[param];\r\n\r\n    return requiredNum > restrictionNum;\r\n  }\r\n\r\n  /** sets the current log level */\r\n  static setLogLevel(logLevel: string): any {\r\n    logLevel = logLevel.toUpperCase();\r\n    const logLevels = Object.keys(this.LOG_LEVELS);\r\n    if (logLevels.indexOf(logLevel) > -1) {\r\n      if (window && window.sessionStorage) { // for browser env.\r\n        window.sessionStorage.setItem('konsole.LOG_LEVEL', logLevel);\r\n      }\r\n      this.logLevel = logLevel;\r\n    } else {\r\n      console.error(`Error, invalid logLevel, it must be one of ${logLevels}`);\r\n    }\r\n  }\r\n\r\n  /** The same as `console.debug()` if the current log level is greater than `debug` */\r\n  static debug(...args: Array<any>): void {\r\n    if (this.toLog('DEBUG')) {\r\n        // noinspection TsLint\r\n        console.debug.apply(console, arguments); // tslint:disable-line\r\n    }\r\n  }\r\n\r\n  /** The same as `console.log()` if the current log level is greater than `log` */\r\n  static log(...args: Array<any>): void {\r\n    if (this.toLog('LOG')) {\r\n      console.log.apply(console, arguments);\r\n    }\r\n  }\r\n\r\n  /** The same as `console.info()` if the current log level is greater than `info` */\r\n  static info(...args: Array<any>): void {\r\n    if (this.toLog('INFO')) {\r\n        // noinspection TsLint\r\n        console.info.apply(console, arguments); // tslint:disable-line\r\n    }\r\n  }\r\n\r\n  /** The same as `console.warn()` if the current log level is greater than `warn` */\r\n  static warn(...args: Array<any>): void {\r\n    if (this.toLog('WARN')) {\r\n      console.warn.apply(console, arguments);\r\n    }\r\n  }\r\n\r\n  /** The same as `console.error()` if the current log level is greater than `error` */\r\n  static error(...args: Array<any>): void {\r\n    if (this.toLog('ERROR')) {\r\n      console.error.apply(console, arguments);\r\n    }\r\n  }\r\n}\r\n\r\n// konsole.setLogLevel('all');\r\n// konsole.debug('yes');\r\n// konsole.log('yes');\r\n// konsole.info('yes');\r\n// konsole.warn('yes');\r\n// konsole.error('yes');\r\n\r\n// konsole.setLogLevel('none');\r\n// konsole.debug('no');\r\n// konsole.log('no');\r\n// konsole.info('no');\r\n// konsole.warn('no');\r\n// konsole.error('no');\r\n\r\n// konsole.setLogLevel('info');\r\n// konsole.debug('no');\r\n// konsole.log('no');\r\n// konsole.info('yes');\r\n// konsole.warn('yes');\r\n// konsole.error('yes');\r\n\r\n// konsole.setLogLevel('WARN');\r\n// konsole.debug('no');\r\n// konsole.log('no');\r\n// konsole.info('no');\r\n// konsole.warn('yes');\r\n// konsole.error('yes');\r\n\r\n// konsole.setLogLevel('ERROR');\r\n// konsole.debug('no');\r\n// konsole.log('no');\r\n// konsole.info('no');\r\n// konsole.warn('no');\r\n// konsole.error('yes');\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {NguiHighlightPipe} from './src/ngui-highlight.pipe';\r\nimport {DynamicComponentService} from './src/dynamic-component.service';\r\nimport { konsole } from './src/konsole';\r\nimport { fireEvent } from './src/fire-event';\r\n\r\nexport {DynamicComponentService, NguiHighlightPipe, konsole, fireEvent};\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [NguiHighlightPipe],\r\n  exports: [NguiHighlightPipe],\r\n  providers: [DynamicComponentService]\r\n})\r\nexport class NguiUtilsModule { }\r\n","import {NgModule} from '@angular/core';\r\nimport {NguiInviewModule} from './ngui-inview/ngui-inview.module';\r\nimport {NguiListModule} from './ngui-list/ngui-list.module';\r\nimport {NguiUtilsModule} from './ngui-utils/ngui-utils.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    NguiInviewModule,\r\n    NguiListModule,\r\n    NguiUtilsModule\r\n  ],\r\n  exports: [\r\n    NguiInviewModule,\r\n    NguiListModule,\r\n    NguiUtilsModule\r\n  ]\r\n})\r\nexport class NguiCommonModule {\r\n}\r\n"]}